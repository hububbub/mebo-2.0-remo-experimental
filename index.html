<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mebo 2.0 Control App</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #eee;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    #videoContainer {
      position: relative;
      width: 640px;
      height: 480px;
      background: black;
      margin-top: 10px;
    }
    #videoFeed {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    #controls {
      position: absolute;
      bottom: 10px;
      left: 0;
      right: 0;
      display: flex;
      justify-content: space-between;
      padding: 0 10px;
    }
    .btn {
      padding: 10px 15px;
      background: #444;
      border: none;
      border-radius: 5px;
      color: white;
      cursor: pointer;
      margin: 2px;
    }
    .btn:hover { background: #666; }
    #settings, #aiTab {
      margin-top: 20px;
      padding: 15px;
      background: #222;
      border-radius: 8px;
      width: 640px;
    }
    #ttsInput, #aiInput {
      width: 80%;
      padding: 6px;
    }
    #speakBtn, #sendAiBtn {
      padding: 7px 12px;
    }
    #aiOutput {
      background: #000;
      color: #0f0;
      padding: 10px;
      margin-top: 10px;
      height: 100px;
      overflow-y: auto;
      font-family: monospace;
      border-radius: 5px;
    }
    #volumeControl {
      width: 200px;
    }
  </style>
</head>
<body>
  <h1>Mebo 2.0 Control App</h1>

  <!-- Live Video -->
  <div id="videoContainer">
    <img id="videoFeed" src="" alt="Mebo Camera Feed">
    <div id="controls">
      <div>
        <button class="btn" id="forwardBtn">‚Üë Forward</button>
        <button class="btn" id="backwardBtn">‚Üì Backward</button>
        <button class="btn" id="leftBtn">‚Üê Left</button>
        <button class="btn" id="rightBtn">‚Üí Right</button>
      </div>
      <div>
        <button class="btn" id="armUpBtn">Arm ‚Üë</button>
        <button class="btn" id="armDownBtn">Arm ‚Üì</button>
        <button class="btn" id="clawOpenBtn">Claw Open</button>
        <button class="btn" id="clawCloseBtn">Claw Close</button>
        <button class="btn" id="camUpBtn">Cam ‚Üë</button>
        <button class="btn" id="camDownBtn">Cam ‚Üì</button>
      </div>
    </div>
  </div>

  <!-- Audio stream -->
  <div style="margin-top:10px;">
    <audio id="meboAudio" controls autoplay></audio>
    <br>
    Volume: <input type="range" id="volumeControl" min="0" max="1" step="0.05" value="0.7">
  </div>

  <!-- TTS and Mic -->
  <div id="settings">
    <h3>Speech Controls</h3>
    <input type="text" id="ttsInput" placeholder="Type text to speak">
    <button class="btn" id="speakBtn">Speak</button>
    <button class="btn" id="micBtn">üé§ Mic (Off)</button>
  </div>

  <!-- AI Tab -->
  <div id="aiTab">
    <h3>AI Assistant</h3>
    <select id="aiMode">
      <option value="online">üåê Online (OpenAI)</option>
      <option value="local">üíª Local LLM</option>
    </select>
    <br><br>
    <input type="text" id="aiInput" placeholder="Ask AI something...">
    <button class="btn" id="sendAiBtn">Send</button>
    <div id="aiOutput"></div>
  </div>

  <script src="renderer.js"></script>
  <script>
    // Volume control sync
    const audioEl = document.getElementById("meboAudio");
    document.getElementById("volumeControl").addEventListener("input", (e) => {
      audioEl.volume = e.target.value;
    });
  </script>
</body>
</html>
